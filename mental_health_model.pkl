import pandas as pd
from sklearn.ensemble import RandomForestClassifier
from sklearn.pipeline import Pipeline
from sklearn.preprocessing import StandardScaler
import joblib

# Example: dummy data structure similar to your app
X = pd.DataFrame({
    "age": [25, 30],
    "gender": [0, 1],
    "family_history": [1, 0],
    "work_interfere": [2, 1]
})
y = [1, 0]

# Create a pipeline (pure sklearn)
pipeline = Pipeline([
    ('scaler', StandardScaler()),
    ('clf', RandomForestClassifier())
])

# Train
pipeline.fit(X, y)

# Save model
joblib.dump(pipeline, 'mental_health_model.pkl')
